import tensorflow as tf
import numpy as np

# Muat model yang sudah dilatih
model_save_path = 'output/mymodel.h5'
model = tf.keras.models.load_model(model_save_path)

# Buat model baru yang mengeluarkan output dari tiap layer
layer_outputs = [layer.output for layer in model.layers]
model_intermediate = tf.keras.models.Model(inputs=model.input, outputs=layer_outputs)

input_data = np.array([
    [0.0,0.0,0.2598870056497175,-0.07344632768361582,0.480225988700565,-0.22598870056497175,0.632768361581921,-0.3446327683615819,0.7740112994350282,-0.4011299435028249,0.3333333333333333,-0.4576271186440678,0.4406779661016949,-0.5480225988700564,0.4124293785310734,-0.4011299435028249,0.3615819209039548,-0.2937853107344633,0.20903954802259886,-0.4915254237288136,0.3163841807909605,-0.5649717514124294,0.2994350282485876,-0.3898305084745763,0.2542372881355932,-0.2542372881355932,0.07344632768361582,-0.5141242937853108,0.15254237288135594,-0.6101694915254238,0.1864406779661017,-0.4406779661016949,0.1807909604519774,-0.3050847457627119,-0.06779661016949153,-0.5254237288135594,-0.13559322033898305,-0.7401129943502824,-0.1638418079096045,-0.8757062146892656,-0.1751412429378531,-1.0]
])

# Masukkan data ke model
layer_outputs_values = model_intermediate.predict(input_data)

# Menampilkan hasil tiap layer
for i, layer_output in enumerate(layer_outputs_values):
    print(f"\nðŸ”¹ Layer {i + 1}: {model.layers[i].name}")
    print(layer_output)